machine:
  timezone:
    Australia/Brisbane
  node:
    version: 7
  environment:
    NODE_ENV: 'development'

general:
  branches:
    only:
      - master
      - release
  artifacts:
    - "dist/"

database:
  override:
    - echo "No database"

dependencies:
  pre:
    - npm i yarn gulp-cli -g
  override:
    - yarn install --pure-lockfile

test:
  pre:
    - yarn lint:ts
    - yarn lint:scss
  override:
    - yarn test

deployment:
  development:
    branch: master
    commands:
      - yarn build

  production:
    branch: release
    commands:
      - yarn deploy
